{"version":3,"sources":["App.js","reportWebVitals.js","index.js","data/api.js","config.js","text.png","UI/MainList.jsx","UI/NewPost.jsx","binary.png","UI/TagView.jsx"],"names":["App","className","to","exact","path","component","MainList","NewPost","TagView","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","getTagList","cb","fetch","global","constants","website","res","json","data","console","log","undefined","renderIconImage","file","textIcon","fileType","filePath","fileName","binaryIcon","handleZoom","e","target","clientHeight","clientWidth","style","ratio","nativeEvent","deltaY","transform","currentPage","inLoading","trackScrolling","wrappedElement","isBottom","loadMoreData","state","banners","isModalVisible","curImg","searchText","title","this","loadFirstPageData","addEventListener","getCurrentUrl","setState","length","el","getBoundingClientRect","bottom","window","innerHeight","removeEventListener","tryPage","url","concat","tagName","val","value","event","keyCode","doSearch","id","type","onKeyDown","searchBoxKeyDown","bind","onChange","searchTextChange","onClick","showAllPost","map","element","index","createTime","tags","tag","i","viewTag","content","files","ii","name","src","width","height","muted","controls","autoPlay","preload","loop","fullScreen","visible","onCancel","footer","onWheel","React","props","tagListLoaded","tagsData","tagList","tagOpt","push","label","tagId","tagOptions","title_value","content_value","select_files","load_files","pickedTags","pickedTagPostData","pickedTagText","reader","FileReader","readAsDataURL","onload","dataOnly","result","substring","indexOf","onerror","error","button","curFile","getBase64","fileString","thisObj","pushPostData","method","headers","body","JSON","stringify","response","success","pickTagData","tagsText","curTag","includes","checkedValues","titleInputChange","rows","contentInputChange","createNewPost","tagDialogShow","multiple","fileListChange","tagDialogPicked","Group","options","defaultValue","pickedTag","loadedPost","myPageNo","loadPickedData","tagPicked"],"mappings":"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","file":"static/js/main.12e96d88.chunk.js","sourcesContent":["import './App.css';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport NewPost from './UI/NewPost'\nimport MainList from './UI/MainList'\nimport TagView from './UI/TagView'\n\nclass App extends Component {\n\n  render() {\n    return (\n        <Router>\n          <div> \n              <ul className='headerul'>\n                <li>\n                <Link to=\"/new\">NEW</Link>\n                </li>\n                <li>\n                <Link to=\"/list\">LIST</Link>\n                </li>\n                <li>\n                <Link to=\"/tag\">TAGS</Link>\n                </li>\n              </ul>\n               <br />\n              <Route exact path=\"/\" component={MainList} />\n              <Route path=\"/new\" component={NewPost} />    \n              <Route path=\"/list\" component={MainList} />                 \n              <Route path=\"/tag\" component={TagView} />                 \n          </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import '../config';\r\nimport textIcon from '../text.png';\r\nimport binaryIcon from '../binary.png';\r\n\r\nexport function getTagList(cb){\r\n    fetch(global.constants.website + \"api/tag/list\")\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            if (cb != undefined) {\r\n                cb(data)\r\n            }\r\n        })\r\n}\r\n\r\nexport function renderIconImage(file) {\r\n    if (file == undefined) {\r\n      return textIcon;\r\n    }\r\n    switch(file.fileType) {\r\n      case 'png':\r\n      case 'jpg':\r\n      case 'JPG':\r\n      case 'mov':\r\n      case 'pdf':\r\n        //return \"http://localhost:8080\\\\ydjm\\\\\" + file.filePath + \"\\\\\" + file.fileName;\r\n        return \".\\\\ydjm\\\\\" + file.filePath + \"\\\\\" + file.fileName;\r\n      case 'txt':\r\n        return textIcon;\r\n      default:\r\n        return binaryIcon; \r\n    }\r\n}\r\n\r\nexport function handleZoom(e) {\r\n    console.log(e)\r\n    let { clientHeight, clientWidth, style } = e.target\r\n    let ratio = clientHeight / clientWidth\r\n    console.log(\"ratio===\" + ratio)\r\n    console.log(\"clientHeight===\" + clientHeight)\r\n    console.log(\"clientWidth===\" + clientWidth)\r\n    if (e.nativeEvent.deltaY <= 0 && clientWidth < 1000) {\r\n        style.transform = \"scale(2.5)\"\r\n    } else if (e.nativeEvent.deltaY > 0) {\r\n        style.transform = \"scale(1)\"\r\n    }\r\n}","global.constants = {\r\n    website:'http://192.168.0.100:8080/ydjm/'\r\n};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABYLAAAWCwF/80maAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAvpQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWsAc9wAAAP10Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSEpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4CBgoOEhYeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/l2toQIAABGASURBVHja7d15eBXVHcbxX24WskDCYljCUkTQCGJsESlIwSoKVii2IFRQqFKxoqWipdatWqlStVJXRFRaN0otxSoVFSmtVISiggtiRUQEjUAJhBBIws08T4W6MufenGxnzpz5vn/mDHfOnffzkMzcuXNEgk7zcx97aUvcI8pUblpx/7AscTeFf6mk5ZpSNr2Fo/U3vZX6tbJjgpP9t1pBtbq5K829/gvepFf9zE9xrf+8N2i1NpnmWP8ZS+i0dhnsFoA/0GgtsybmUv83UGitM8ah/s+jztpnsTv9n1ZFnbVPlTPXg4pKabMuGeFI/x0202WdMsWN/nPXUGXdcrMT/ac/S5N1zANOAHiAIuuaOS70fy09RhrAudQYaQCncANApAEcs5MWowygYBMlRhlA01fpMMoA0p6mwkgDmEWDkQZwJQVGGsDZ1RQYZQADK+gvygCOLqG+KANou7E273Pr3OhmnpMAclbVCvpSiW4yXQSQ+qQHgCgDuNsDQJQBTPUAEGUAo6oBEGUA/fd5AIgwgKP+6wEgwgBav+sBIMIAsuv0DBAAuAIgtsADQJQB3O4BIMoALvUAEGUA348DIMoA+u71ABBhAF23eQCIMIDD3vEAEGEAmS96AIgwgNjjHgCiDOBWDwBRBnCJB4AoA/huHABRBnDCHg8AEQbQ5WMPABEG0HKdTse7ywHgJoAm/9Tpf//pxQBwEkDKXK3/5CcKANwEMF2r/xsFAG4C+LFW/4+mAMBNAN/Zr9P/P5oIAJwE0KtMp/+3Dj71HgDuAfjaRzr9F3cWADgJoPlanf73HC8AcBJAxt+1LgAMFQA4CSDlYa0TgEkCADcB/Fqr/y+WvACAWwAmaPU/LwUAbgIYorUM3LJMAYCTAI7brdP/260EAE4C6LhF6+FvRwgAnASQ97pO/+V9BABOAkhfrNN//EwBgJsA5midAEwWALgJ4Dqt/m8TALgJYLxW//NjAHATwCCtZeCWZwkAnATQc5dO/+vzBQBOAmj/gU7/27sJAJwE0Gy1Tv97+wkAnASQtkin/+oRAgA3AczWOgG4TADgJoCrtfq/QwDgJoCxWv0/EQOAmwC+rbUM3MpsAYCTALqX6PS/obUAwEkA7d7X6f+/hQIAJwE0fVmn/33fEgA4CSB1odYFgNECADcBzNQ6Afi5AMBNAFdo9X+PAMBNAKO1loF7KhUAbgIYoLUM3Ms5AgAnARTu0Ol/Y1sBgJMA2mzQ6b+kuwDASQDZK3X6rzhJAOAkgNQntE4AxgoA3ARwp1b/V0nwAPKOHXzO+CAybnifDs4CuEyr//skaAD5k5dqPa6ssbL+lt5OAhipdQFgUVrAAHKuLfUCz4JC9wCcqLUM3KvNJFgARRs9G1J1sWsAum3Xed+bCiRYAMPLPEtyb6pTAPLX67zpXT0lWAADKj1rMsMlAFnLdd5y5SAJFkDnbZ5FOd8dALH5Wu94nAQMYKFN/Xt7CpwBMEPrDf9SAgYw0LMrs10BMFnr7T4oQQNYYhmAeGc3AJyptQzcc+lBA8iPWwbA91yUcALoU67zXl/LlaABnGdb/95iFwAcsVXnrW6u5RXwxgAwyzoAZQ4AaPW2zjstLZLgATxlHQAvL/QAMpdpvdH7R9cyOxsBwCr7APQIO4CUeQEctboCWGkfgMKwA7jZCxGAJ+wD0CzkACZ5YQJwj3X97wz5H4FD94cKwBjrACwMN4Bj93ihAtC80jYAE0MNIOVfXrgAWHceWNEu1ADGeWED0KvaLgC3hfrDoLzi0AGQuVb1X9Iy1ABmeOED0Pp9i/qvPjPcN4SUhBCAHFdmD4BrJNQAOnlhBCADbLkprPp6CTeAM8IJQDqvtqL/3SMl5ACuDCkASbtgS+D1V81sK2EHMDesAESyRs3dFWD78WWXH173T1+tAbA0uCP4ZP1nH2tddOqQIDL4m19rUq+P3wHgebMkugHAJ7kOANEGcBoAIg1gZzoAIg3gDwKAKAOoOhIAkQZwlwAgygDeygNAlAHs6CYAiDCALb0FABEGsKJAABBdAB9OSBUARBVA6ePn5ggJB4Cdoxs43+/XKY3ywwOgmKIAQABAAEAAQABAAEAAQABAAEAAYEHSO/UZOjyIfPeko5oBIOA0G7eg3Aswq64+CgDBJeMnW72gE5/TEQABpdtaK74eXj4WAIFk0A7PkkxPAYD5HF/uWZMbAGA87TZ7FmUUAEzncZv693blA8Bs+nh25Q4AmM3TlgGobA8Ak2lRZRkA7yIAmMw5tvXvPQ0Ak5lpHYBSAJjMX60D4OUCwGD+bR+A7gAAAAD4FQAAI7mXPwKjDWC8dQCeBYDJtNpvG4CLAWA0z1rW//6OADCaEy0DMJMPgwzHrtWDd7cBgOF0KLYJwDkCANPpu8+e/n8jADCf03fZ0v/vYgAIIt3fsaL+igl1mz4A6p3MqcHfGV79WBcBQGBpPnFRRZD1vzHt2LrzBUCDJPvIgSNHB5FRQ4oOq9f/XwCIdgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACASIueg4YEkcEnFMQAEHCyRj60PcBvhlUumdIZAMEl9sPglw2puvMwAASUDiut+Hr4zmEACCTf/MiS50PEfwGAANKz1J5HxFwBAONpvdGiZ0RVDweA6cy16jFxJS0BYDa9qu16UORtADCbp+zq36toBwCTaV5pGQBvIgBMZoxt/XsLAWAy91gHYCcATOYJ6wB4zQBgMCvtA1AIAINZZR+AHgCI8FngJ8kDgMHMsq7/Mv4INJnzrAOwGAAmkx+3DcBkABjNEsv6j3cGgNEMtAzAbD4MMpyFVvW/pwAAhtN5m00AzhcAmM4Aiz4QnCEAMJ/hZbb0f28qAIJIkR23BVZdXLfpA6DeybnWgjuDFxQKAIK7IDR5aaALya+/pXed5w6Ahkne14dOuDCITDyrX8f6TBwAEQ8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2Aug5ZjZz7z5UTE5mGQA9uq/zAcr5t/YPxYGAEULA32ah9PZdn1T2wHkPhinp0ZM8Vi7AXRdS0eN/bTCVIsB9NxBQY3/wLKYtQCsWunX3fzWWgBLKMdIzrIUwDCqMZP3MqwEEHuTagxlspUA+lOMqbxhJYBbKcZYutkI4C16sfp3QGMDSKmgF2O5zUIAranFXOZaCKAntZjL8xYCOI5azGUpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACATQA2v0Rqm0qXAFzH14RrnWIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAsAJoMr3+6H3ihvoqBoSnJdp2r+BenHBhIb4A59QSA3mu0bYDvTd504IWGqUbOTrZr1bPOJx0YaN4Ac5oBAMMAZL5iZGOTxHvuqnjU9fIYAEILoEOpYujyxHtWgKk8RgAQWgAyWTFU0jLRjgcqtp4mAAgxgNRVirFEj9mPveLf9u1MAIQZgPRSLGFc0UW93/GK1zlJABBqADJDMfhH5W5ztvi3nC0ACDmAZpsVo31Uu/2V4oi0AEDYAciZitEXFHvtUO7fbpQAIPQA5K+K4eH+vT7k32qhAMABAJ3K/MPr0g7dae9q30a7OwHABQAyRTF+0aE7Xebf5qcCACcApL7qH9/a7Kv7HOnfZGUMAG4AkBPiCa/wffYB5AbfBlVFAoBgAGRdmChVh77iI4m2/OqJ3p3+uZS3//IGU2sgJBkJ5+Q7eZiXaMt+AKjvq+879BUv1Pt3uYprPA9+abz1Lt/w+izNOe1M9qcDN4TYAUD1Kz5+7BfDM/3DgwQADgGQhf7ZPPP54DH+DwzmCACcAtB5j386p302+Iz/JKEVANwCoPozb82n53mn+4fGCAAcA5D2mn8+4/8/sjbJbwcAuAJA+vqv9W4++Jf+JN/P9xwOAPcAyD3+CV154BLP9trcNQiA8AJo/pFvQqX5Irf4fvpKKgBcBCCj/TO6U47w3Qm+/xsCACcByCL/Bf8j/XeC3yIAcBRAF/9NP6/7fvJeNgBcBSC/0PjMbrAAwFkA6W/U2P8jAgB3AciJ1TX0vz0fAC4DkFk1ABgvAHAaQIuPk/a/WADgNgAZk2yC5V0B4DoAeS7JBK8QADgPoOvehPNbkwYA9wHI1YmmFz9BABABABlrG/K2bQCEDoAMUF8MeL8pAKIBQB5Qzu4MAUBEALTa1jCXAAAQUgDysGJytboPDAChBtA7rprdIgBEBEDaavX0fgCAaACYmuj9twBAFAAo7gv6NLMAEAUAzyacX3V/ALgPYGySCa7NAIDrAFptTTbDawDgOoA5SW8I2dcNAG4DOLmGW8KWAMBpAJnv1HRX8DgAuAzg1zXeFr79MAC4C6BnZc1fDPk9AJwFEFuu8c0g72QAuApgkuLM3/+j/2QCwE0A7f1PA9x3hOLxYTcAwE0Af/HPaJp09z8irqI7AFwEoFg5YlO2yL3+H7+QAgD3AOQq1o4Z+cnP2+z2//xHAHAPwF3++Tx/cOAa/0BJGwC4BqCv/zawqh4HR7IV/zU8BgDHAKT7nwXz+QKSqvUChwDALQBXKt5u3mfXhxT3CG7IBoBLALopvhH6xbMgBinmOh0ALgF43j+Z5V861/ubf/irK8YAINwAFL/l48d/abyHYoXhl2IAcAVA/vaa7gBWPTroYgC4AkDxTbAdX/3Yv63iatCu9gBwA8BpiqlMOmSbaxXb/BkATgDIetc/k9WHPhA8W7GumDcMAC4AmK6Yybd8W52n2GpTUwCEH0BRlX8iiufBxtYoJjwDAKEHEFvpn8fuAsWGpyomvL8XAMIOYLJiHlOVWz6t2FJj8RAAWA2go+L87m31NwAVy0d63hQAhBvAk4ppJFoR4D7FtmWdABBmAIo1g70FiTZuV6bY+kkAhBhA3of+SexN/DCoX6omPQIA4QWgWBXcuz7x5jkKL96HeQAIK4D+ikeCbsxK8g/OV836bgCEFIDyocDfS3rRQLHAsFfdFwDhBKD6gOe55DtQfW7kvZYOAEsArFl3SEYl2bjN6nW+vHV0DXt4ZJ0iSReTX3no1ucCoNEARDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABWALipOaltPnYJAGnYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARgEUUou5PGMhgFxqMZffWwhASunFWG6yEcAyejGWsTYC+Bm9mEpVCxsBdKMYU3lebAQgC2jGUIbYCaBwP9XY+x+AAQByI92YyO4etgKIPUU7jZ/q4WIrAMnlVLDRE79E7AUgGffTUONm1+liMwCRURsoqRHzeBexHIBkXPJinKIaJSWP9qtHMaYAfJL8EZfe+uAcciAPJWt0vf7r3Hf9BQPT6tWKQQDki2QmAzDH5EwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgDgIYO9c0kiZFwoAJJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0WJZwvK3LAyYB/InjbV1uNgngdo63dZliEsDlHG/rMsIkgGM43ralTqu/1T3rOeKWZbHZ2xOv4ohbljFmAeQUc8itypqY4TuUL+CYW5XBxu9Rf5iDblGmBfAlheUcdmsyPyWAr6nkzOfAW5K70iSIpFxVzrG3IDsmBPZdtYL7Kjj+AadsegsJMLmjH121uYoaAknlphX3D8tqxHb/B8ZLl5t5fPCAAAAAAElFTkSuQmCC\"","import { Modal, Button } from 'antd';\r\nimport '../App.css';\r\nimport React, { Component } from 'react';\r\nimport '../config';\r\nimport {renderIconImage} from '../data/api'\r\nimport {handleZoom} from '../data/api'\r\n\r\nlet currentPage = 0;\r\nlet inLoading = false;\r\nlet currentSelection = \"全部\";\r\n\r\nexport default class MainList extends React.Component{\r\n\r\n  constructor(){\r\n      super();\r\n      this.state = {\r\n          banners: [''],\r\n          isModalVisible:false,\r\n          curImg: null,\r\n          searchText: ''\r\n      }\r\n  }\r\n\r\n  // get data when load\r\n  componentDidMount(){\r\n      document.title = 'POST'\r\n      this.loadFirstPageData()\r\n      document.addEventListener('scroll', this.trackScrolling);\r\n  }\r\n\r\n  loadFirstPageData() {\r\n    currentPage = 0\r\n\r\n    fetch(this.getCurrentUrl())\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log(data);\r\n          this.setState({\r\n              banners:data\r\n          })\r\n    })\r\n  }\r\n\r\n  getCurrentUrl() {\r\n    if (this.state.searchText.length > 0) {\r\n      return global.constants.website + \"api/post/list/find?page=\" + currentPage + \"&keyword=\" + this.state.searchText\r\n    } else {\r\n      return global.constants.website + \"api/post/list?page=\" + currentPage\r\n    }\r\n  }\r\n\r\n  isBottom(el) {\r\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    document.removeEventListener('scroll', this.trackScrolling);\r\n  }\r\n  \r\n  trackScrolling = () => {\r\n    const wrappedElement = document.getElementById('list_root');\r\n    if (this.isBottom(wrappedElement)) {\r\n      console.log('page bottom reached');\r\n      this.loadMoreData();\r\n    }\r\n  };\r\n\r\n  loadMoreData() {\r\n    if (inLoading) {\r\n      return;\r\n    }\r\n    inLoading = true;\r\n    let tryPage = currentPage + 1;\r\n    let url = global.constants.website + \"api/post/list?page=\" + tryPage;\r\n    console.log(url);\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n          console.log(data)\r\n          inLoading = false;\r\n          if (data != null && data.length > 0) {\r\n            currentPage = tryPage;\r\n          } else {\r\n            return;\r\n          }\r\n          this.setState({\r\n              banners:this.state.banners.concat(data)\r\n          })\r\n      })\r\n  }\r\n\r\n  viewTag(tagName) {\r\n    console.log(tagName);\r\n  }\r\n\r\n  searchTextChange(val) {\r\n    this.setState({\r\n      searchText:val.target.value\r\n    })\r\n  }\r\n\r\n  doSearch() {\r\n    console.log(this.state.searchText)\r\n    if (this.state.searchText.length ==0) {\r\n      return\r\n    }\r\n    this.loadFirstPageData()\r\n  }\r\n\r\n  searchBoxKeyDown() {\r\n    if(window.event.keyCode === 13){\r\n      this.doSearch()\r\n    }\r\n  }\r\n\r\n  showAllPost() {\r\n    console.log('cancle search')\r\n    this.setState({\r\n      searchText:''\r\n    })\r\n    currentPage = 0\r\n    this.setState({searchText:''}, ()=> {\r\n      this.loadFirstPageData()\r\n     });\r\n  }\r\n\r\n  render(){\r\n      return(\r\n        <div>\r\n          <div id=\"list_root\">\r\n            <div className=\"oneLine2\">\r\n              <input className=\"inputBox oneLine\" type=\"text\" value={this.state.searchText} \r\n              onKeyDown={this.searchBoxKeyDown.bind(this)}\r\n              onChange={this.searchTextChange.bind(this)}/>\r\n              <button className=\"bigButton rightDockButton\" onClick={this.doSearch.bind(this)} >Search</button>\r\n            </div>\r\n            <h1 onClick={() => this.showAllPost()}>{currentSelection}</h1>\r\n              {\r\n                this.state.banners.map((element,index) =>{\r\n                  return(\r\n                    <ul key = {index}>\r\n                      <h3>{element.title}</h3>\r\n                      <div>{element.createTime}</div>\r\n                      <div>\r\n                        {\r\n                          element.tags && element.tags.map((tag, i) =>{\r\n                            return(\r\n                            <div \r\n                            key = {i} \r\n                            className = \"tagLable\" \r\n                            onClick={() => this.viewTag(tag)}>{tag}</div>\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                      <pre>{element.content}</pre>\r\n                      <div>\r\n                        {\r\n                          element.files && element.files.map((file, ii) =>{\r\n                            return(\r\n                              <div key = {ii} name = {ii} className=\"fullLine\">\r\n                                {\r\n                                  file.fileType == 'jpg' ?\r\n                                  <img  className = \"iconImg\" \r\n                                        src={renderIconImage(file)}\r\n                                        onClick={()=>{this.setState({isModalVisible:true, curImg:file})}}\r\n                                  />: ''\r\n                                }\r\n                                {\r\n                                  file.fileType == 'mov' ?\r\n                                  <video id=\"video\"  width=\"640\" height=\"480\" muted controls autoPlay=\"autoPlay\" preload=\"auto\" loop=\"loop\" >\r\n                                    <source src={renderIconImage(file)} />\r\n                                  </video>: ''\r\n                                }\r\n                                {\r\n                                  file.fileType == 'pdf' ?\r\n                                  <embed src={renderIconImage(file)} type=\"application/pdf\" width=\"80%\" height=\"700\" />:''\r\n                                }\r\n                              </div>\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                    </ul>\r\n                  )\r\n                })\r\n              }\r\n            \r\n          </div>\r\n          <Modal  fullScreen title=\"ZOOM\" visible={this.state.isModalVisible}\r\n                onCancel={()=>{this.setState({\r\n                    isModalVisible:false\r\n                })}}\r\n                footer={[\r\n                   \r\n                  ]}\r\n                >\r\n                  <div onWheel={handleZoom}>\r\n                    <img  className = \"iconImg\" \r\n                          src={renderIconImage(this.state.curImg)}\r\n                    />\r\n                  </div>\r\n                </Modal>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Modal, Button } from 'antd';\r\nimport { Checkbox, Divider } from 'antd';\r\nimport '../App.css';\r\nimport 'antd/dist/antd.css';\r\nimport {getTagList} from '../data/api'\r\nimport '../config';\r\n\r\nclass NewPost extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            title_value:\"\",\r\n            content_value:\"\",\r\n            select_files:[],\r\n            load_files:[],\r\n            isModalVisible:false,\r\n            tagList:[{tagId: 2, tagName: \"香山\"},{tagId: 2, tagName: \"香山\"}],\r\n            tagOptions:[\r\n                { label: 'Apple', value: '1' },\r\n                { label: 'Pear', value: '2' },\r\n                { label: 'Orange', value: '3' },\r\n              ],\r\n            pickedTags:[],\r\n            pickedTagPostData:[],\r\n            pickedTagText: \"---\"\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        document.title = 'NEW+'\r\n        getTagList(this.tagListLoaded)\r\n    }\r\n    titleInputChange(val){\r\n        this.setState({\r\n            title_value:val.target.value\r\n        })\r\n    }\r\n    contentInputChange(val){\r\n        this.setState({\r\n            content_value:val.target.value\r\n        })\r\n    }\r\n    fileListChange(val){\r\n        console.log(val)\r\n        this.setState({\r\n            select_files:val,\r\n            load_files:[]\r\n        })\r\n    }\r\n    getBase64(file, cb) {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n            let dataOnly = reader.result.substring(reader.result.indexOf(\"base64,\")+7)\r\n            cb(dataOnly)\r\n        };\r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    }\r\n    createNewPost(button) {\r\n        console.log('will submit')\r\n        if (this.state.select_files.length > 0) {\r\n            for (var i = 0; i < this.state.select_files.length; i++) { \r\n                var curFile = this.state.select_files[i]\r\n                console.log(curFile.name)\r\n                this.getBase64(curFile, fileString => {\r\n                    var thisObj = {\r\n                        \"fileType\": curFile.name.substring(curFile.name.length - 3),\r\n                        \"fileBody\": fileString\r\n                    }\r\n                    this.state.load_files.push(thisObj)\r\n                    if (this.state.load_files.length == this.state.select_files.length) {\r\n                        this.pushPostData()\r\n                    }\r\n                })\r\n            }\r\n        } else {\r\n            this.pushPostData()\r\n        }\r\n    }\r\n    pushPostData() {\r\n        var data = { \r\n            \"title\": this.state.title_value,\r\n            \"content\": this.state.content_value,\r\n            \"files\": this.state.load_files,\r\n            \"tags\": this.state.pickedTagPostData\r\n        }\r\n        console.log(data)\r\n        fetch(global.constants.website + 'api/post/create', {\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data) \r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            if (data.success != undefined && data.success == true) {\r\n                console.log('submit success!!!')\r\n                this.setState({\r\n                    title_value:\"\",\r\n                    content_value:\"\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n    tagDialogShow() {\r\n        this.setState({\r\n            isModalVisible:true\r\n        })\r\n    }\r\n    tagDialogPicked() {\r\n        this.setState({\r\n            isModalVisible:false\r\n        })\r\n        console.log('closed = ', this.state.pickedTags);\r\n        var pickTagData = []\r\n        var tagsText = \" \"\r\n        for(let i = 0; i < this.state.tagList.length; i++) {\r\n            var curTag = this.state.tagList[i]\r\n            if (this.state.pickedTags.includes(curTag.tagId)) {\r\n                pickTagData.push(curTag)\r\n                tagsText = tagsText + curTag.tagName + \",\"\r\n            }\r\n        }\r\n        console.log('closed 2 = ', pickTagData);\r\n        this.setState({\r\n            pickedTagPostData:pickTagData,\r\n            pickedTagText:tagsText\r\n        })\r\n    }\r\n    tagListLoaded = tagsData => {\r\n        this.setState({\r\n            tagList:tagsData\r\n        })\r\n        var tagOpt = []\r\n        for(let i = 0; i < tagsData.length; i++) {\r\n            tagOpt.push({label: tagsData[i].tagName, value: tagsData[i].tagId})\r\n        }\r\n        this.setState({\r\n            tagOptions:tagOpt\r\n        })\r\n    }\r\n    onChange(checkedValues) {\r\n        this.setState({\r\n            pickedTags:checkedValues\r\n        })\r\n      }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input className=\"inputBox\" type=\"text\" value={this.state.title_value} onChange={this.titleInputChange.bind(this)}/>\r\n                <br/>\r\n                <br/>\r\n                <textarea  className=\"inputBox CanNotResize\"  rows=\"30\" value={this.state.content_value } onChange={this.contentInputChange.bind(this)}></textarea>\r\n                <br/>\r\n                <br/>\r\n                <p className=\"inputBox\">{this.state.pickedTagText}</p>\r\n                <button className=\"bigButton rightDockButton\" onClick={this.createNewPost.bind(this)} >PUSH</button>\r\n                <button className=\"bigButton rightDockButton\" onClick={this.tagDialogShow.bind(this)} >TAG</button>\r\n                <input className=\"inputBox\" type=\"file\" id=\"file\" multiple=\"multiple\" name=\"file\" onChange={(e) => this.fileListChange(e.target.files)} />\r\n                <>\r\n                <Modal title=\"TAG\" visible={this.state.isModalVisible}\r\n                onCancel={()=>{this.setState({\r\n                    isModalVisible:false\r\n                })}}\r\n                footer={[\r\n                    <Button key=\"tagDialogPick\" type=\"primary\" onClick={()=>{this.tagDialogPicked()}}>\r\n                      OK\r\n                    </Button>,\r\n                    <Button key=\"tagDialogCancle\" onClick={()=>{this.setState({\r\n                        isModalVisible:false\r\n                    })}}>\r\n                      Cancel\r\n                    </Button>,\r\n                  ]}\r\n                >\r\n                    <Checkbox.Group options={this.state.tagOptions} defaultValue={[]} onChange={this.onChange.bind(this)}></Checkbox.Group>\r\n                </Modal>\r\n                </>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nexport default NewPost;     ","export default __webpack_public_path__ + \"static/media/binary.3927a2f2.png\";","import { Modal, Button } from 'antd';\r\nimport React, { Component } from 'react';\r\nimport '../App.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport '../config';\r\nimport {renderIconImage} from '../data/api'\r\nimport {handleZoom} from '../data/api'\r\n\r\nlet inLoading = false;\r\nclass TagView extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            tags: [''],\r\n            pickedTag:'',\r\n            loadedPost:[],\r\n            myPageNo:0,\r\n            isModalVisible:false,\r\n            curImg: null\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        document.title = 'TAG'\r\n        fetch(global.constants.website + \"api/tag/list\")\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            this.setState({\r\n                tags:data\r\n            })\r\n        })\r\n        document.addEventListener('scroll', this.trackScrolling);\r\n    }\r\n    isBottom(el) {\r\n      return el.getBoundingClientRect().bottom <= window.innerHeight;\r\n    }\r\n    componentWillUnmount() {\r\n      document.removeEventListener('scroll', this.trackScrolling);\r\n    }\r\n    trackScrolling = () => {\r\n      const wrappedElement = document.getElementById('list_root');\r\n      if (this.isBottom(wrappedElement)) {\r\n        console.log('page bottom reached');\r\n        this.loadMoreData();\r\n      }\r\n    };\r\n    loadMoreData() {\r\n      if (inLoading) {\r\n        return;\r\n      }\r\n      inLoading = true;\r\n      let tryPage = this.state.myPageNo + 1;\r\n      let url = global.constants.website + \"api/post/list/tag?page=\" + tryPage + \"&tag=\" + this.state.pickedTag.tagName;\r\n      console.log(url);\r\n      fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            inLoading = false;\r\n            if (data != null && data.length > 0) {\r\n              this.setState({\r\n                myPageNo:tryPage\r\n              })\r\n            } else {\r\n              return;\r\n            }\r\n            this.setState({\r\n                loadedPost:this.state.loadedPost.concat(data)\r\n            })\r\n        })\r\n    }\r\n    loadPickedData(tag) {\r\n        if (inLoading) {\r\n          return;\r\n        }\r\n        inLoading = true;\r\n        let url = global.constants.website + \"api/post/list/tag?page=0&tag=\" + tag.tagName;\r\n        console.log(url);\r\n        fetch(url)\r\n          .then(res => res.json())\r\n          .then(data => {\r\n              console.log(data)\r\n              inLoading = false;\r\n              this.setState({\r\n                myPageNo:0\r\n              })\r\n              this.setState({\r\n                loadedPost:data\r\n              })\r\n          })\r\n      }\r\n    tagPicked(tag) {\r\n        console.log(tag)\r\n        this.setState({\r\n            pickedTag:tag\r\n          })\r\n        this.loadPickedData(tag)\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    {\r\n                        this.state.tags.map((tag,index) =>{\r\n                            return (\r\n                                <div className=\"oneLine\" key = {index}>\r\n                                    <h3 onClick={() => this.tagPicked(tag)}>{tag.tagName}&nbsp;&nbsp;&nbsp;</h3>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                <div id=\"list_root\">\r\n                    <h1>{this.state.pickedTag.tagName}</h1>\r\n                    {\r\n                        this.state.loadedPost.map((element,index) =>{\r\n                        return(\r\n                            <ul key = {index}>\r\n                            <h3>{element.title}</h3>\r\n                            <div>{element.createTime}</div>\r\n                            <div>\r\n                                {\r\n                                element.tags && element.tags.map((tag, i) =>{\r\n                                    return(\r\n                                    <div \r\n                                    key = {i} \r\n                                    className = \"tagLable\" \r\n                                    >{tag}</div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                            <pre>{element.content}</pre>\r\n                            <div>\r\n                                {\r\n                                element.files && element.files.map((file, ii) =>{\r\n                                    return(\r\n                                    <div key = {ii} className=\"fullLine\">\r\n                                        {\r\n                                          file.fileType == 'jpg' ?\r\n                                          <img  className = \"iconImg\" \r\n                                                src={renderIconImage(file)}\r\n                                                onClick={()=>{this.setState({isModalVisible:true, curImg:file})}}\r\n                                          />: ''\r\n                                        }\r\n                                        {\r\n                                          file.fileType == 'mov' ?\r\n                                          <video id=\"video\"  width=\"640\" height=\"480\" muted controls autoPlay=\"autoPlay\" preload=\"auto\" loop=\"loop\" >\r\n                                            <source src={renderIconImage(file)} />\r\n                                          </video>: ''\r\n                                        }\r\n                                    </div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                            </ul>\r\n                        )\r\n                        })\r\n                    }\r\n                    \r\n                </div>\r\n                <Modal  fullScreen title=\"ZOOM\" visible={this.state.isModalVisible}\r\n                onCancel={()=>{this.setState({\r\n                    isModalVisible:false\r\n                })}}\r\n                footer={[\r\n                   \r\n                  ]}\r\n                >\r\n                  <div onWheel={handleZoom}>\r\n                    <img  className = \"iconImg\" \r\n                          src={renderIconImage(this.state.curImg)}\r\n                    />\r\n                  </div>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TagView;     "],"sourceRoot":""}