{"version":3,"sources":["App.js","reportWebVitals.js","index.js","text.png","config.js","binary.png","UI/MainList.jsx","UI/NewPost.jsx","data/api.js","UI/TagView.jsx"],"names":["App","className","to","exact","path","component","MainList","NewPost","TagView","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","global","constants","website","currentPage","inLoading","trackScrolling","wrappedElement","isBottom","console","log","loadMoreData","handleZoom","e","target","clientHeight","clientWidth","style","ratio","nativeEvent","deltaY","transform","state","banners","isModalVisible","curImg","title","fetch","res","json","data","setState","addEventListener","this","el","getBoundingClientRect","bottom","window","innerHeight","removeEventListener","tryPage","url","length","concat","tagName","file","undefined","textIcon","fileType","filePath","fileName","binaryIcon","id","map","element","index","createTime","tags","tag","i","onClick","viewTag","content","files","ii","name","src","renderIconImage","width","height","muted","controls","autoplay","preload","fullScreen","visible","onCancel","footer","onWheel","React","props","tagListLoaded","tagsData","tagList","tagOpt","push","label","value","tagId","tagOptions","title_value","content_value","select_files","load_files","pickedTags","pickedTagPostData","pickedTagText","getTagList","val","cb","reader","FileReader","readAsDataURL","onload","dataOnly","result","substring","indexOf","onerror","error","button","curFile","getBase64","fileString","thisObj","pushPostData","method","headers","body","JSON","stringify","response","success","pickTagData","tagsText","curTag","includes","checkedValues","type","onChange","titleInputChange","bind","rows","contentInputChange","createNewPost","tagDialogShow","multiple","fileListChange","tagDialogPicked","Group","options","defaultValue","pickedTag","loadedPost","myPageNo","loadPickedData","tagPicked"],"mappings":"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","file":"static/js/main.88823dc1.chunk.js","sourcesContent":["import './App.css';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport React, { Component } from 'react';\nimport NewPost from './UI/NewPost'\nimport MainList from './UI/MainList'\nimport TagView from './UI/TagView'\n\nclass App extends Component {\n\n  render() {\n    return (\n        <Router>\n          <div> \n              <ul className='headerul'>\n                <li>\n                <Link to=\"/new\">NEW</Link>\n                </li>\n                <li>\n                <Link to=\"/list\">LIST</Link>\n                </li>\n                <li>\n                <Link to=\"/tag\">TAGS</Link>\n                </li>\n              </ul>\n               <br />\n              <Route exact path=\"/\" component={MainList} />\n              <Route path=\"/new\" component={NewPost} />    \n              <Route path=\"/list\" component={MainList} />                 \n              <Route path=\"/tag\" component={TagView} />                 \n          </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default \"data:image/png;base64,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\"","global.constants = {\r\n    website:'http://192.168.0.100:8080/ydjm/'\r\n};","export default __webpack_public_path__ + \"static/media/binary.3927a2f2.png\";","import textIcon from '../text.png';\r\nimport binaryIcon from '../binary.png';\r\nimport { Modal, Button } from 'antd';\r\nimport '../App.css';\r\nimport React, { Component } from 'react';\r\nimport '../config';\r\n\r\nlet currentPage = 0;\r\nlet inLoading = false;\r\nlet currentSelection = \"全部\";\r\n\r\nexport default class MainList extends React.Component{\r\n\r\n  constructor(){\r\n      super();\r\n      this.state = {\r\n          banners: [''],\r\n          isModalVisible:false,\r\n          curImg: null\r\n      }\r\n  }\r\n\r\n  // get data when load\r\n  componentDidMount(){\r\n      document.title = 'POST'\r\n      fetch(global.constants.website + \"api/post/list?page=0\")\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log(data);\r\n          this.setState({\r\n              banners:data\r\n          })\r\n      })\r\n      document.addEventListener('scroll', this.trackScrolling);\r\n  }\r\n\r\n  isBottom(el) {\r\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    document.removeEventListener('scroll', this.trackScrolling);\r\n  }\r\n  \r\n  trackScrolling = () => {\r\n    const wrappedElement = document.getElementById('list_root');\r\n    if (this.isBottom(wrappedElement)) {\r\n      console.log('page bottom reached');\r\n      this.loadMoreData();\r\n    }\r\n  };\r\n\r\n  loadMoreData() {\r\n    if (inLoading) {\r\n      return;\r\n    }\r\n    inLoading = true;\r\n    let tryPage = currentPage + 1;\r\n    let url = global.constants.website + \"api/post/list?page=\" + tryPage;\r\n    console.log(url);\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n          console.log(data)\r\n          inLoading = false;\r\n          if (data != null && data.length > 0) {\r\n            currentPage = tryPage;\r\n          } else {\r\n            return;\r\n          }\r\n          this.setState({\r\n              banners:this.state.banners.concat(data)\r\n          })\r\n      })\r\n  }\r\n\r\n  viewTag(tagName) {\r\n    console.log(tagName);\r\n  }\r\n\r\n  renderIconImage(file) {\r\n    if (file == undefined) {\r\n      return textIcon;\r\n    }\r\n    switch(file.fileType) {\r\n      case 'png':\r\n      case 'jpg':\r\n      case 'mov':\r\n        //return \"http://localhost:8080\\\\ydjm\\\\\" + file.filePath + \"\\\\\" + file.fileName;\r\n        return \".\\\\ydjm\\\\\" + file.filePath + \"\\\\\" + file.fileName;\r\n      case 'txt':\r\n        return textIcon;\r\n      default:\r\n        return binaryIcon; \r\n    }\r\n  }\r\n\r\n  handleZoom = (e) => {\r\n    console.log(e)\r\n    let { clientHeight, clientWidth, style } = e.target\r\n    let ratio = clientHeight / clientWidth\r\n    console.log(\"ratio===\" + ratio)\r\n    console.log(\"clientHeight===\" + clientHeight)\r\n    console.log(\"clientWidth===\" + clientWidth)\r\n    if (e.nativeEvent.deltaY <= 0 && clientWidth < 1000) {\r\n        style.transform = \"scale(2.5)\"\r\n    } else if (e.nativeEvent.deltaY > 0) {\r\n        style.transform = \"scale(1)\"\r\n    }\r\n  }\r\n\r\n  render(){\r\n      return(\r\n        <div>\r\n          <div id=\"list_root\">\r\n            <h1>{currentSelection}</h1>\r\n              {\r\n                this.state.banners.map((element,index) =>{\r\n                  return(\r\n                    <ul key = {index}>\r\n                      <h3>{element.title}</h3>\r\n                      <div>{element.createTime}</div>\r\n                      <div>\r\n                        {\r\n                          element.tags && element.tags.map((tag, i) =>{\r\n                            return(\r\n                            <div \r\n                            key = {i} \r\n                            className = \"tagLable\" \r\n                            onClick={() => this.viewTag(tag)}>{tag}</div>\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                      <pre>{element.content}</pre>\r\n                      <div>\r\n                        {\r\n                          element.files && element.files.map((file, ii) =>{\r\n                            return(\r\n                              <div key = {ii} name = {ii} className=\"fullLine\">\r\n                                {\r\n                                  file.fileType == 'jpg' ?\r\n                                  <img  className = \"iconImg\" \r\n                                        src={this.renderIconImage(file)}\r\n                                        onClick={()=>{this.setState({isModalVisible:true, curImg:file})}}\r\n                                  />: ''\r\n                                }\r\n                                {\r\n                                  file.fileType == 'mov' ?\r\n                                  <video id=\"video\"  width=\"640\" height=\"480\" muted controls autoplay=\"autoplay\" preload=\"auto\" >\r\n                                    <source src={this.renderIconImage(file)} />\r\n                                  </video>: ''\r\n                                }\r\n                              </div>\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                    </ul>\r\n                  )\r\n                })\r\n              }\r\n            \r\n          </div>\r\n          <Modal  fullScreen title=\"TAG\" visible={this.state.isModalVisible}\r\n                onCancel={()=>{this.setState({\r\n                    isModalVisible:false\r\n                })}}\r\n                footer={[\r\n                   \r\n                  ]}\r\n                >\r\n                  <div onWheel={this.handleZoom}>\r\n                    <img  className = \"iconImg\" \r\n                          src={this.renderIconImage(this.state.curImg)}\r\n                    />\r\n                  </div>\r\n                </Modal>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Modal, Button } from 'antd';\r\nimport { Checkbox, Divider } from 'antd';\r\nimport '../App.css';\r\nimport 'antd/dist/antd.css';\r\nimport {getTagList} from '../data/api'\r\nimport '../config';\r\n\r\nclass NewPost extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            title_value:\"\",\r\n            content_value:\"\",\r\n            select_files:[],\r\n            load_files:[],\r\n            isModalVisible:false,\r\n            tagList:[{tagId: 2, tagName: \"香山\"},{tagId: 2, tagName: \"香山\"}],\r\n            tagOptions:[\r\n                { label: 'Apple', value: '1' },\r\n                { label: 'Pear', value: '2' },\r\n                { label: 'Orange', value: '3' },\r\n              ],\r\n            pickedTags:[],\r\n            pickedTagPostData:[],\r\n            pickedTagText: \"---\"\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        document.title = 'NEW+'\r\n        getTagList(this.tagListLoaded)\r\n    }\r\n    titleInputChange(val){\r\n        this.setState({\r\n            title_value:val.target.value\r\n        })\r\n    }\r\n    contentInputChange(val){\r\n        this.setState({\r\n            content_value:val.target.value\r\n        })\r\n    }\r\n    fileListChange(val){\r\n        console.log(val)\r\n        this.setState({\r\n            select_files:val,\r\n            load_files:[]\r\n        })\r\n    }\r\n    getBase64(file, cb) {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n            let dataOnly = reader.result.substring(reader.result.indexOf(\"base64,\")+7)\r\n            cb(dataOnly)\r\n        };\r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    }\r\n    createNewPost(button) {\r\n        console.log('will submit')\r\n        if (this.state.select_files.length > 0) {\r\n            for (var i = 0; i < this.state.select_files.length; i++) { \r\n                var curFile = this.state.select_files[i]\r\n                console.log(curFile.name)\r\n                this.getBase64(curFile, fileString => {\r\n                    var thisObj = {\r\n                        \"fileType\": curFile.name.substring(curFile.name.length - 3),\r\n                        \"fileBody\": fileString\r\n                    }\r\n                    this.state.load_files.push(thisObj)\r\n                    if (this.state.load_files.length == this.state.select_files.length) {\r\n                        this.pushPostData()\r\n                    }\r\n                })\r\n            }\r\n        } else {\r\n            this.pushPostData()\r\n        }\r\n    }\r\n    pushPostData() {\r\n        var data = { \r\n            \"title\": this.state.title_value,\r\n            \"content\": this.state.content_value,\r\n            \"files\": this.state.load_files,\r\n            \"tags\": this.state.pickedTagPostData\r\n        }\r\n        console.log(data)\r\n        fetch(global.constants.website + 'api/post/create', {\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data) \r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            if (data.success != undefined && data.success == true) {\r\n                console.log('submit success!!!')\r\n                this.setState({\r\n                    title_value:\"\",\r\n                    content_value:\"\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n    tagDialogShow() {\r\n        this.setState({\r\n            isModalVisible:true\r\n        })\r\n    }\r\n    tagDialogPicked() {\r\n        this.setState({\r\n            isModalVisible:false\r\n        })\r\n        console.log('closed = ', this.state.pickedTags);\r\n        var pickTagData = []\r\n        var tagsText = \" \"\r\n        for(let i = 0; i < this.state.tagList.length; i++) {\r\n            var curTag = this.state.tagList[i]\r\n            if (this.state.pickedTags.includes(curTag.tagId)) {\r\n                pickTagData.push(curTag)\r\n                tagsText = tagsText + curTag.tagName + \",\"\r\n            }\r\n        }\r\n        console.log('closed 2 = ', pickTagData);\r\n        this.setState({\r\n            pickedTagPostData:pickTagData,\r\n            pickedTagText:tagsText\r\n        })\r\n    }\r\n    tagListLoaded = tagsData => {\r\n        this.setState({\r\n            tagList:tagsData\r\n        })\r\n        var tagOpt = []\r\n        for(let i = 0; i < tagsData.length; i++) {\r\n            tagOpt.push({label: tagsData[i].tagName, value: tagsData[i].tagId})\r\n        }\r\n        this.setState({\r\n            tagOptions:tagOpt\r\n        })\r\n    }\r\n    onChange(checkedValues) {\r\n        this.setState({\r\n            pickedTags:checkedValues\r\n        })\r\n      }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input className=\"inputBox\" type=\"text\" value={this.state.title_value} onChange={this.titleInputChange.bind(this)}/>\r\n                <br/>\r\n                <br/>\r\n                <textarea  className=\"inputBox CanNotResize\"  rows=\"30\" value={this.state.content_value } onChange={this.contentInputChange.bind(this)}></textarea>\r\n                <br/>\r\n                <br/>\r\n                <p className=\"inputBox\">{this.state.pickedTagText}</p>\r\n                <button className=\"bigButton rightDockButton\" onClick={this.createNewPost.bind(this)} >PUSH</button>\r\n                <button className=\"bigButton rightDockButton\" onClick={this.tagDialogShow.bind(this)} >TAG</button>\r\n                <input className=\"inputBox\" type=\"file\" id=\"file\" multiple=\"multiple\" name=\"file\" onChange={(e) => this.fileListChange(e.target.files)} />\r\n                <>\r\n                <Modal title=\"TAG\" visible={this.state.isModalVisible}\r\n                onCancel={()=>{this.setState({\r\n                    isModalVisible:false\r\n                })}}\r\n                footer={[\r\n                    <Button key=\"tagDialogPick\" type=\"primary\" onClick={()=>{this.tagDialogPicked()}}>\r\n                      OK\r\n                    </Button>,\r\n                    <Button key=\"tagDialogCancle\" onClick={()=>{this.setState({\r\n                        isModalVisible:false\r\n                    })}}>\r\n                      Cancel\r\n                    </Button>,\r\n                  ]}\r\n                >\r\n                    <Checkbox.Group options={this.state.tagOptions} defaultValue={[]} onChange={this.onChange.bind(this)}></Checkbox.Group>\r\n                </Modal>\r\n                </>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nexport default NewPost;     ","import '../config';\r\n\r\nexport function getTagList(cb){\r\n    fetch(global.constants.website + \"api/tag/list\")\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            if (cb != undefined) {\r\n                cb(data)\r\n            }\r\n        })\r\n}","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport '../config';\r\nimport textIcon from '../text.png';\r\nimport binaryIcon from '../binary.png';\r\n\r\nlet inLoading = false;\r\nclass TagView extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            tags: [''],\r\n            pickedTag:'',\r\n            loadedPost:[],\r\n            myPageNo:0\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        document.title = 'TAG'\r\n        fetch(global.constants.website + \"api/tag/list\")\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            this.setState({\r\n                tags:data\r\n            })\r\n        })\r\n        document.addEventListener('scroll', this.trackScrolling);\r\n    }\r\n    isBottom(el) {\r\n      return el.getBoundingClientRect().bottom <= window.innerHeight;\r\n    }\r\n    componentWillUnmount() {\r\n      document.removeEventListener('scroll', this.trackScrolling);\r\n    }\r\n    trackScrolling = () => {\r\n      const wrappedElement = document.getElementById('list_root');\r\n      if (this.isBottom(wrappedElement)) {\r\n        console.log('page bottom reached');\r\n        this.loadMoreData();\r\n      }\r\n    };\r\n    loadMoreData() {\r\n      if (inLoading) {\r\n        return;\r\n      }\r\n      inLoading = true;\r\n      let tryPage = this.state.myPageNo + 1;\r\n      let url = global.constants.website + \"api/post/list/tag?page=\" + tryPage + \"&tag=\" + this.state.pickedTag.tagName;\r\n      console.log(url);\r\n      fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            inLoading = false;\r\n            if (data != null && data.length > 0) {\r\n              this.setState({\r\n                myPageNo:tryPage\r\n              })\r\n            } else {\r\n              return;\r\n            }\r\n            this.setState({\r\n                loadedPost:this.state.loadedPost.concat(data)\r\n            })\r\n        })\r\n    }\r\n    loadPickedData(tag) {\r\n        if (inLoading) {\r\n          return;\r\n        }\r\n        inLoading = true;\r\n        let url = global.constants.website + \"api/post/list/tag?page=0&tag=\" + tag.tagName;\r\n        console.log(url);\r\n        fetch(url)\r\n          .then(res => res.json())\r\n          .then(data => {\r\n              console.log(data)\r\n              inLoading = false;\r\n              this.setState({\r\n                myPageNo:0\r\n              })\r\n              this.setState({\r\n                loadedPost:data\r\n              })\r\n          })\r\n      }\r\n    tagPicked(tag) {\r\n        console.log(tag)\r\n        this.setState({\r\n            pickedTag:tag\r\n          })\r\n        this.loadPickedData(tag)\r\n    }\r\n    renderIconImage(file) {\r\n        switch(file.fileType) {\r\n          case 'png':\r\n          case 'jpg':\r\n            return \".\\\\ydjm\\\\\" + file.filePath + \"\\\\\" + file.fileName;\r\n          case 'txt':\r\n            return textIcon;\r\n          default:\r\n            return binaryIcon; \r\n        }\r\n      }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    {\r\n                        this.state.tags.map((tag,index) =>{\r\n                            return (\r\n                                <div className=\"oneLine\" key = {index}>\r\n                                    <h3 onClick={() => this.tagPicked(tag)}>{tag.tagName}&nbsp;&nbsp;&nbsp;</h3>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                <div id=\"list_root\">\r\n                    <h1>{this.state.pickedTag.tagName}</h1>\r\n                    {\r\n                        this.state.loadedPost.map((element,index) =>{\r\n                        return(\r\n                            <ul key = {index}>\r\n                            <h3>{element.title}</h3>\r\n                            <div>{element.createTime}</div>\r\n                            <div>\r\n                                {\r\n                                element.tags && element.tags.map((tag, i) =>{\r\n                                    return(\r\n                                    <div \r\n                                    key = {i} \r\n                                    className = \"tagLable\" \r\n                                    >{tag}</div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                            <pre>{element.content}</pre>\r\n                            <div>\r\n                                {\r\n                                element.files && element.files.map((file, ii) =>{\r\n                                    return(\r\n                                    <div key = {ii}>\r\n                                        {\r\n                                        file.fileName ? \r\n                                        <img className = \"iconImg\" src={this.renderIconImage(file)}/>: ''\r\n                                        }\r\n                                    </div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                            </ul>\r\n                        )\r\n                        })\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TagView;     "],"sourceRoot":""}